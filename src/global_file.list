#!/bin/bash

prefix=global_here
varlist=global.list

echo "prefix = \"$prefix\", varlist = \"$varlist\"";

# ***** to do with full set over entire file ******
sourcefile=calc_normal.f95
../scripts/sed_vars.bash $sourcefile $varlist $prefix

sourcefile=create_edge_data.f95
../scripts/sed_vars.bash $sourcefile $varlist $prefix

sourcefile=cstart.f95
../scripts/sed_vars.bash $sourcefile $varlist $prefix

sourcefile=DG_hydro_timestep.f95
../scripts/sed_vars.bash $sourcefile $varlist $prefix

sourcefile=ebarrier_edge_hydro.f95
../scripts/sed_vars.bash $sourcefile $varlist $prefix

sourcefile=flow_edge_hydro.f95
../scripts/sed_vars.bash $sourcefile $varlist $prefix

sourcefile=ibarrier_edge_hydro.f95
../scripts/sed_vars.bash $sourcefile $varlist $prefix

sourcefile=internal_edge_hydro.f95
../scripts/sed_vars.bash $sourcefile $varlist $prefix

sourcefile=met_forcing.f95
../scripts/sed_vars.bash $sourcefile $varlist $prefix

sourcefile=ocean_edge_hydro.f95
../scripts/sed_vars.bash $sourcefile $varlist $prefix

sourcefile=orthobasis_area.f95
../scripts/sed_vars.bash $sourcefile $varlist $prefix

sourcefile=orthobasis_edge.f95
../scripts/sed_vars.bash $sourcefile $varlist $prefix

sourcefile=p_enrichment.f95
../scripts/sed_vars.bash $sourcefile $varlist $prefix

sourcefile=prep_DG.f95
../scripts/sed_vars.bash $sourcefile $varlist $prefix

sourcefile=quad_pts_area.f95
../scripts/sed_vars.bash $sourcefile $varlist $prefix

sourcefile=quad_pts_edge.f95
../scripts/sed_vars.bash $sourcefile $varlist $prefix

sourcefile=radiation_edge_hydro.f95
../scripts/sed_vars.bash $sourcefile $varlist $prefix

sourcefile=read_input.f95
../scripts/sed_vars.bash $sourcefile $varlist $prefix

sourcefile=rhs_dg_hydro.f95
../scripts/sed_vars.bash $sourcefile $varlist $prefix

sourcefile=tidal_potential.f95
../scripts/sed_vars.bash $sourcefile $varlist $prefix

sourcefile=wetdry.f95
../scripts/sed_vars.bash $sourcefile $varlist $prefix

sourcefile=write_results.f95
../scripts/sed_vars.bash $sourcefile $varlist $prefix


# ****** partial files but full set of variables *****

sourcefile=land_edge_hydro.f95   #only go til line 297
../scripts/sed_vars.bash $sourcefile $varlist $prefix 1 297

sourcefile=dgswem.f95 #only used in main program, ends at L418
../scripts/sed_vars.bash $sourcefile $varlist $prefix 1 418

sourcefile=sta_basis.f95 # lines 1-54
../scripts/sed_vars.bash $sourcefile $varlist $prefix 1 54

sourcefile=numerical_flux.f95 # start with line 54
../scripts/sed_vars.bash $sourcefile $varlist $prefix 54 1899

sourcefile=prep_slopelim.f95 # end with line 525
../scripts/sed_vars.bash $sourcefile $varlist $prefix 1 525


# ***** more complicated stuff *****

sourcefile=DG_timestep.f95 #contains two subroutines, both use a subset
# doing subroutine DG_TIMESTEP manually (only uses SEDFLAG)
../scripts/sed_vars.bash $sourcefile scrutinize_solution.global.list $prefix 88 290

#sourcefile=read_fort_dg.f95 # did this mostly manually

# 1-1823, 1905-8763, SUBROUTINE HYDRO_EIGEN_VALUES done manually
sourcefile=slopelimiter.f95
../scripts/sed_vars.bash $sourcefile $varlist $prefix 1 1823
../scripts/sed_vars.bash $sourcefile $varlist $prefix 1905 8763

sourcefile=LDG_hydro.f95
#subroutines in lines 1-1030 all use full set
../scripts/sed_vars.bash $sourcefile $varlist $prefix 1 1030
# L1045 - 1147 done by hand
# RHS_LDG_HYDRO uses subset, L1161 - 1409
../scripts/sed_vars.bash $sourcefile rhs_ldg_hydro.global.list $prefix 1161 1409


# ****** other modules *****

# wind.f95  only uses screenUnit? do this manually, also, it's a module.
# attempting to remove USE GLOBAL, ONLY: SCREENUNIT from this module.
# the module itself needs to be turned into a data type anyway

sourcefile=nodalattr.f95 #is a module, no "use global" statements


# **** the alloc routines in the module itself *****
sourcefile=global.f95
../scripts/sed_vars.bash global.f95 global.list global_here 390 749
